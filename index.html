<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Portfolio – Somik Das</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }

    /* Apple-like system font stack */
    html, body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
                   Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
      color: #222;
      background: #fff;
      scroll-behavior: smooth;
    }

    /* ----------------------
       NAVIGATION
    ---------------------- */
    nav {
      position: sticky;
      top: 0;
      background: #fff;
      border-bottom: 1px solid #ddd;
      padding: 15px;
      text-align: center;
      z-index: 1000;
    }
    nav a {
      margin: 0 20px;
      text-decoration: none;
      color: #222;
      font-weight: 600;
      letter-spacing: 0.2px;
      padding: 6px 12px;
      position: relative;
      transition: color 0.3s;
    }
    nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0%;
      height: 2px;
      background: #000;
      transition: width 0.3s ease-in-out;
    }
    nav a:hover { color: #000; }
    nav a:hover::after { width: 100%; }

    /* ----------------------
       HEADER HERO (MSCI background)
    ---------------------- */
    header {
      text-align: center;
      padding: 140px 20px 100px;
      background-image:
        linear-gradient(to right, rgba(0,0,0,0.45), rgba(0,0,0,0.9)),
        url('IMG_5903.png'); /* or absolute: https://somikds3-glitch.github.io/webportfolio/IMG_5903.png */
      background-position: center center, center center;
      background-repeat: no-repeat, no-repeat;
      background-size: cover, cover;
      background-attachment: fixed, fixed;
      color: #fff;
      position: relative;
    }
    @media (max-width: 768px) {
      header { background-attachment: scroll, scroll; }
    }

    /* Hero content: one-time cloud reveal */
    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 940px;
      margin: auto;
      text-shadow: 0 2px 6px rgba(0,0,0,0.35);
      opacity: 0; transform: translateY(40px); filter: blur(20px);
    }
    .hero-content.visible { animation: cloudFade 1s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
    header h1 { font-size: 52px; margin-bottom: 15px; letter-spacing: -0.2px; font-weight: 700; }
    header p { font-size: 20px; line-height: 1.6; max-width: 900px; margin: 0 auto 30px; font-weight: 500; }
    .hero-buttons { margin-top: 25px; }
    .hero-buttons a {
      display: inline-block; padding: 12px 28px; margin: 8px; border-radius: 28px; font-weight: 700;
      text-decoration: none; letter-spacing: 0.2px;
      transition: transform 0.25s ease, background 0.25s ease, border-color 0.25s ease, color 0.25s ease;
    }
    .btn-primary { background: #222; color: #fff; border: 2px solid #222; }
    .btn-primary:hover { background: #000; border-color: #000; transform: translateY(-2px); }
    .btn-secondary { background: transparent; color: #fff; border: 2px solid #fff; }
    .btn-secondary:hover { background: #000; border: 2px solid #000; color: #fff; transform: translateY(-2px); }

    /* ----------------------
       BAND (Lucida Sans as requested)
    ---------------------- */
    .band {
      position: relative; padding: 120px 20px; text-align: center;
      font-family: "Lucida Sans", "Lucida Sans Unicode", "Lucida Grande", sans-serif;
      font-size: 20px; line-height: 1.8; color: #fff; background: linear-gradient(180deg, #222, #111);
    }
    .band p { position: relative; z-index: 1; max-width: 1000px; margin: auto; font-style: italic; }

    /* ----------------------
       SECTIONS
       - cloud reveal ONCE
       - continuous fade in/out while scrolling
    ---------------------- */
    section {
      padding: 100px 40px;
      text-align: center;

      /* continuous fade is JS-driven; this is the default min opacity */
      will-change: opacity;
      transition: opacity 240ms linear;
      opacity: 0.25;
    }
    /* Initial cloud state (before reveal) */
    section.reveal-seed {
      opacity: 0;
      transform: translateY(40px);
      filter: blur(20px);
    }
    /* Plays once on first reveal */
    section.revealed {
      animation: cloudFade 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    section h2 { font-size: 32px; margin-bottom: 20px; letter-spacing: -0.2px; }
    section p  { max-width: 800px; margin: auto; font-size: 18px; }

    /* ----------------------
       CAREER TIMELINE
    ---------------------- */
    .timeline-wrap { margin-top: 28px; }
    .timeline {
      position: relative;
      display: flex; align-items: center; gap: 16px;
      overflow-x: auto; scrollbar-width: thin; padding: 18px 12px 30px;
      border-radius: 12px; background: #f7f7f7; box-shadow: inset 0 0 0 1px #eee;
    }
    .timeline::-webkit-scrollbar { height: 8px; }
    .timeline::-webkit-scrollbar-thumb { background: #d0d0d0; border-radius: 8px; }
    .timeline-track {
      position: absolute; left: 12px; right: 12px; top: 42px; height: 3px; background: #ddd; border-radius: 2px;
    }
    .year {
      position: relative; flex: 0 0 auto;
      background: #fff; border: 1px solid #ddd; color: #333;
      border-radius: 10px; padding: 8px 14px; font-weight: 700; letter-spacing: 0.2px;
      cursor: pointer; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .year:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,.08); border-color: #bbb; }
    .year.disabled, .year[disabled] { opacity: 0.45; cursor: not-allowed; background: #fafafa; border-style: dashed; }
    .year::after {
      content: ""; position: absolute; left: 50%; transform: translateX(-50%);
      top: 36px; width: 10px; height: 10px; background: #aaa; border-radius: 50%;
      box-shadow: 0 0 0 2px #f7f7f7;
    }
    .year.active { border-color: #111; color: #111; }
    .year.active::after { background: #111; }

    /* Sliding indicator under the active year */
    .cursor {
      position: absolute; top: 40px; height: 7px; background: #111; border-radius: 4px;
      transition: left .35s cubic-bezier(.22,1,.36,1), width .35s cubic-bezier(.22,1,.36,1);
      pointer-events: none;
    }

    /* ----------------------
       MODAL
    ---------------------- */
    .modal {
      position: fixed; inset: 0; display: none; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.5); z-index: 2000; padding: 20px;
    }
    .modal.show { display: flex; }
    .modal-card {
      width: min(680px, 92vw); background: #fff; border-radius: 16px; padding: 22px;
      box-shadow: 0 20px 60px rgba(0,0,0,.25); position: relative;
      display: grid; grid-template-columns: 120px 1fr; gap: 18px;
    }
    .modal-close {
      position: absolute; top: 10px; right: 12px; border: none; background: transparent;
      font-size: 22px; cursor: pointer; color: #333;
    }
    .modal-img {
      width: 120px; height: 120px; border-radius: 12px; object-fit: contain; background: #fafafa; border: 1px solid #eee;
    }
    .modal-title { margin: 0 0 6px 0; font-size: 20px; font-weight: 800; }
    .modal-sub { margin: 0 0 10px 0; color: #555; }
    .modal-year { font-weight: 700; color: #000; }

    /* Modal tabs */
    .modal-tabs {
      display: flex;
      gap: 8px;
      margin: -6px 0 10px;
      flex-wrap: wrap;
    }
    .modal-tab {
      border: 1px solid #ddd;
      background: #f9f9f9;
      padding: 6px 10px;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      transition: background .2s ease, border-color .2s ease;
    }
    .modal-tab:hover { background: #f1f1f1; border-color: #ccc; }
    .modal-tab[aria-selected="true"] {
      background: #111; color: #fff; border-color: #111;
    }

    /* ----------------------
       CLOUD EFFECT KEYFRAMES
    ---------------------- */
    @keyframes cloudFade {
      0%   { opacity: 0; filter: blur(20px); transform: translateY(60px); }
      100% { opacity: 1; filter: blur(0);    transform: translateY(0); }
    }
  </style>
</head>
<body>
  <!-- NAVIGATION -->
  <nav>
    <a href="#home">Home</a>
    <a href="#career">Career</a>
    <a href="#education">Education</a>
    <a href="#projects">Projects</a>
    <a href="#certifications">Certifications</a>
    <a href="#comments">Comments</a>
  </nav>

  <!-- HEADER HERO -->
  <header id="home">
    <div class="hero-content">
      <h1>Somik Das</h1>
      <p>
        Passionate Data Ops, BI, and Analytics Professional | Driven to Deliver Excellence and Innovation |
        Data Operations • Data Visualisation • Data Processes Automation • Big Data Handling & Analysis
      </p>
      <div class="hero-buttons">
        <a href="#projects" class="btn-primary">View My Work</a>
        <a
          href="https://drive.google.com/file/d/1IifV8kX1eWRcoTKXnsMP0MUXiZBdIuB1/view?usp=drivesdk"
          class="btn-secondary"
          target="_blank"
          rel="noopener"
        >Download Resume</a>
      </div>
    </div>
  </header>

  <!-- BAND -->
  <div class="band">
    <p>
      As a graduate from a Top Tier Management School, I bring a high level of motivation and dedication to every task,
      ensuring excellence and adherence to standards. Currently working as a Data Processes Professional, I specialize
      in managing and optimizing data workflows, data modeling, defining QA/QC processes, and building efficient data
      pipelines. My expertise includes data operations, process automation, dataset prescreening and visualization,
      enabling actionable insights and supporting data-driven decision-making. With a strong interest in AI, I am actively
      implementing AI Prompt Engineering by leveraging and democratizing AI to make it accessible and impactful across
      data processes. I am eager to continue refining my skills in advanced data management, AI, and analytics within a
      dynamic work environment that fosters innovation and growth.
      <br><br>- Somik
    </p>
  </div>

  <!-- SECTIONS -->
  <section id="career">
    <h2>Career</h2>
    <p>[Placeholder for career history and roles]</p>

    <!-- TIMELINE (2010 → 2018 test set) -->
    <div class="timeline-wrap">
      <div class="timeline" id="career-timeline" aria-label="Career timeline">
        <div class="timeline-track"></div>
        <div class="cursor" aria-hidden="true" style="left:0;width:0;"></div>

        <!-- Pre-2014 (not clickable) -->
        <button class="year disabled" disabled aria-disabled="true">2010</button>
        <button class="year disabled" disabled aria-disabled="true">2011</button>
        <button class="year disabled" disabled aria-disabled="true">2012</button>
        <button class="year disabled" disabled aria-disabled="true">2013</button>

        <!-- From 2014 onwards (clickable as specified) -->
        <button
          class="year"
          data-payload='{
            "year":"2014",
            "title":"Chemtex Speciality Limited",
            "subtitle":"Sales and Service Engineer",
            "img":"chemtex.png",
            "alt":"Chemtex logo"
          }'
        >2014</button>

        <button class="year disabled" disabled aria-disabled="true">2015</button>

        <button
          class="year"
          data-payload='{
            "year":"2016",
            "title":"MBA in Energy and Environment",
            "subtitle":"Symbiosis Institute of International Business",
            "img":"SIIB.png",
            "alt":"SIIB logo"
          }'
        >2016</button>

        <!-- 2017 with MULTIPLE TABS (array payload) -->
        <button
          class="year"
          data-payload='[
            {
              "year":"2017",
              "title":"MBA in Energy and Environment",
              "subtitle":"Symbiosis Institute of International Business",
              "img":"SIIB.png",
              "alt":"SIIB logo"
            },
            {
              "year":"2017",
              "title":"Summer Internship",
              "subtitle":"KPMG India",
              "img":"KPMG.png",
              "alt":"KPMG logo"
            }
          ]'
        >2017</button>

        <button
          class="year"
          data-payload='{
            "year":"2018",
            "title":"L&T Financial Services",
            "subtitle":"Team Manager (June 2018)",
            "img":"LT.png",
            "alt":"L&T Financial Services logo"
          }'
        >2018</button>

      </div>
    </div>
  </section>

  <section id="education">
    <h2>Education</h2>
    <p>[Placeholder for education background]</p>
  </section>

  <section id="projects">
    <h2>Projects</h2>
    <p>[Placeholder for key data/AI projects]</p>
  </section>

  <section id="certifications">
    <h2>Certifications</h2>
    <p>[Placeholder for certifications, e.g., Power BI, Azure, DataOps, etc.]</p>
  </section>

  <section id="comments">
    <h2>User Comments / Testimonials</h2>
    <p>[Placeholder for user feedback or LinkedIn recommendations]</p>
  </section>

  <!-- MODAL -->
  <div class="modal" id="career-modal" role="dialog" aria-modal="true" aria-label="Career detail">
    <div class="modal-card">
      <button class="modal-close" aria-label="Close">✕</button>
      <img class="modal-img" src="" alt="Logo">
      <div>
        <div class="modal-tabs" role="tablist"></div>
        <h3 class="modal-title">Title</h3>
        <p class="modal-sub"><span class="modal-year">Year</span></p>
        <p style="margin:0;color:#666;">(Additional details can go here in the next iteration.)</p>
      </div>
    </div>
  </div>

  <script>
    /* ----------------------
       1) Hero: one-time cloud reveal
    ---------------------- */
    document.addEventListener('DOMContentLoaded', () => {
      const hero = document.querySelector('.hero-content');
      if (hero) setTimeout(() => hero.classList.add('visible'), 80);
    });

    /* ----------------------
       2) Sections:
          - seed cloud state
          - play cloud reveal once via IntersectionObserver
          - keep continuous fade in/out while scrolling
    ---------------------- */
    (function() {
      const sections = Array.from(document.querySelectorAll('section'));
      if (!sections.length) return;

      // Seed initial cloud state
      sections.forEach(sec => sec.classList.add('reveal-seed'));

      // One-time cloud reveal on first intersection
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
            entry.target.classList.remove('reveal-seed');
            io.unobserve(entry.target);
          }
        });
      }, { root: null, rootMargin: '0px 0px -80px 0px', threshold: 0.15 });

      sections.forEach(sec => io.observe(sec));

      // Continuous fade mapping
      let ticking = false;
      const clamp = (v, min, max) => Math.max(min, Math.min(max, v));
      const lerp  = (a, b, t) => a + (b - a) * t;

      function update() {
        const vh = window.innerHeight || document.documentElement.clientHeight;
        const centerY = vh / 2;

        for (const el of sections) {
          const rect = el.getBoundingClientRect();
          const elCenter = rect.top + rect.height / 2;
          const dist = Math.abs(elCenter - centerY);
          const norm = clamp(dist / (vh * 0.6), 0, 1);
          const opacity = lerp(1.0, 0.25, norm);
          el.style.opacity = opacity.toFixed(3);
        }
        ticking = false;
      }

      function onScroll() {
        if (!ticking) {
          window.requestAnimationFrame(update);
          ticking = true;
        }
      }

      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('resize', update, { passive: true });
      window.addEventListener('load', update, { passive: true });
      document.addEventListener('DOMContentLoaded', update, { passive: true });
    })();

    /* ----------------------
       3) Timeline interactions (left→right transition + modal with tabs)
    ---------------------- */
    document.addEventListener('DOMContentLoaded', () => {
      const line   = document.querySelector('.timeline');
      const cursor = document.querySelector('.cursor');
      const years  = Array.from(document.querySelectorAll('.timeline .year'));

      function moveCursorTo(el) {
        const rect = el.getBoundingClientRect();
        const parentRect = line.getBoundingClientRect();
        const left = rect.left - parentRect.left + line.scrollLeft;
        cursor.style.left = `${left + 6}px`;
        cursor.style.width = `${rect.width - 12}px`;
        // Smooth horizontal scroll (left→right) to focus the active year
        el.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
      }

      function setActive(el) {
        years.forEach(y => y.classList.remove('active'));
        el.classList.add('active');
        moveCursorTo(el);
      }

      // Initialize at first clickable (2014)
      const firstActive = years.find(y => !y.disabled && !y.classList.contains('disabled'));
      if (firstActive) setTimeout(() => setActive(firstActive), 100);

      // Modal wiring (supports single object OR array for tabs)
      const modal = document.getElementById('career-modal');
      const mTitle = modal.querySelector('.modal-title');
      const mSub   = modal.querySelector('.modal-sub');
      const mImg   = modal.querySelector('.modal-img');
      const mTabs  = modal.querySelector('.modal-tabs');
      const mClose = modal.querySelector('.modal-close');

      function renderEntry(entry) {
        mTitle.textContent = entry.title || '';
        mSub.innerHTML = `<span class="modal-year">${entry.year || ''}</span> — ${entry.subtitle || ''}`;
        mImg.src = entry.img || '';
        mImg.alt = entry.alt || entry.title || 'Logo';
      }

      function openModal(payload) {
        const items = Array.isArray(payload) ? payload : [payload];
        mTabs.innerHTML = '';

        if (items.length > 1) {
          items.forEach((it, idx) => {
            const tab = document.createElement('button');
            tab.className = 'modal-tab';
            tab.type = 'button';
            tab.role = 'tab';
            tab.setAttribute('aria-selected', idx === 0 ? 'true' : 'false');
            tab.textContent = it.title ? it.title : `Item ${idx + 1}`;
            tab.addEventListener('click', () => {
              mTabs.querySelectorAll('.modal-tab').forEach(t => t.setAttribute('aria-selected','false'));
              tab.setAttribute('aria-selected','true');
              renderEntry(items[idx]);
            });
            mTabs.appendChild(tab);
          });
        }

        renderEntry(items[0]);
        modal.classList.add('show');
      }
      function closeModal() { modal.classList.remove('show'); }

      mClose.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

      years.forEach(btn => {
        btn.addEventListener('click', () => {
          if (btn.disabled || btn.classList.contains('disabled')) return;
          setActive(btn);

          const raw = btn.dataset.payload;
          if (!raw) return;

          let payload;
          try { payload = JSON.parse(raw); } catch { payload = null; }
          if (payload) openModal(payload);
        });
      });

      // Reposition cursor on resize
      window.addEventListener('resize', () => {
        const active = document.querySelector('.timeline .year.active');
        if (active) moveCursorTo(active);
      });
    });
  </script>
</body>
</html>
